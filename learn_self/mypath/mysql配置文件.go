package main

import (
	"fmt"
	//"github.com/go-sql-driver/mysql"
)

func main()  {
	mysqlConfig := fmt.Sprintf("[client]\nport            = %v\nsocket            = %v/run/mysql.sock\n\n# The MySQL server\n[mysqld]\n#########Basic##################\nexplicit_defaults_for_timestamp=true\nport            = %v\nuser            = mysql\nbasedir         = %v\ndatadir         = %v/data\ntmpdir          = %v/tmp\npid-file        = %v/run/mysql.pid\nsocket            = %v/run/mysql.sock\n#skip-grant-tables\n#character set\ncharacter_set_server = utf8mb4\nopen_files_limit = 65535\nback_log = 500\n#event_scheduler = ON\nlower_case_table_names=%v\nlog_timestamps = 1\nskip-external-locking\n#skip_name_resolve = 1\n#skip-networking = 1\ndefault-storage-engine = InnoDB\n\n#timeout\nwait_timeout=28800\nlock_wait_timeout=3600\ninteractive_timeout=28800\nconnect_timeout = 20\nserver-id       = %v\n#plugin\n#plugin-load=\"semisync_master.so;semisync_slave.so\"\n\n#########SSL#############\n#ssl-ca = /home/storage/mysql_3306/data/ca.pem\n#ssl-cert = /home/storage/mysql_3306/data/server-cert.pem\n#ssl-key = /home/storage/mysql_3306/data/server-key.pem\n\n#########undo#############\ninnodb_undo_logs  =126\ninnodb_undo_directory =%v/logs/\ninnodb_max_undo_log_size = 1G\ninnodb_undo_tablespaces = 8\ninnodb_undo_log_truncate = 1\ninnodb_purge_rseg_truncate_frequency = 128\n\n#########error log#############\nlog-error = %v/logs/error.log\nlog_error_verbosity  = 3\n\n#########general log#############\ngeneral_log_file=%v/logs/general.log\n\n#########slow log#############\nslow_query_log = 1\nlong_query_time=1\nslow_query_log_file = %v/logs/mysql.slow\n\n############# for replication###################\nlog-bin     = %v/logs/mysql-bin\nbinlog_format = ROW\nmax_binlog_size = 1024M\nbinlog_cache_size = 5M\nmax_binlog_cache_size = 5000M\nexpire-logs-days = 15\nslave-net-timeout=30\nlog-slow-slave-statements =1\nlog_bin_trust_function_creators = 1\nlog-slave-updates = 1\nread_only=%v\n#skip-slave-start = 1\n#super_read_only =1\n\n#relay log\nrelay-log = %v/logs/mysql-relay\nrelay-log-index=%v/logs/relay-bin.index\nmax-relay-log-size = 1024M\nrelay_log_purge = 1\n\nsync_master_info = 1\nsync_relay_log_info = 1\nsync_relay_log = 1\nrelay_log_recovery = 1\n\n#semisync\n#rpl_semi_sync_master_enabled = 1\n#rpl_semi_sync_master_wait_no_slave = 1\n#rpl_semi_sync_master_timeout = 1000\n#rpl_semi_sync_slave_enabled = 1\n#rpl_semi_sync_master_timeout = 100000000\n#rpl_semi_sync_master_wait_point = 'after_sync'\n#rpl_semi_sync_master_wait_for_slave_count = 2\n\n#ignore\n#replicate-ignore-db = 'db,'db1'\n#replicate-do-db = 'db','db1'\n#replicate-do-table = 'db.t'\n#replicate-ignore-table= 'db.t'\n\n#Multi-threaded Slave\nslave_parallel_workers=8\nslave-parallel-type=LOGICAL_CLOCK\nmaster_info_repository=TABLE\nrelay_log_info_repository=TABLE\nslave_pending_jobs_size_max=200000000\n#binlog_group_commit_sync_delay=1000\n#binlog_group_commit_sync_no_delay_count =100\n#slave_preserve_commit_order=1\n# GTID setting\ngtid-mode                      = %v\nenforce-gtid-consistency       = true\nsync-master-info               = 1\nslave-parallel-workers         = 8\nbinlog-checksum                = CRC32\nmaster-verify-checksum         = 1\nslave-sql-verify-checksum      = 1\nbinlog-rows-query-log_events   = 1\n#slave-skip-errors=1007,1051,1062\n\n#######per_thread_buffers#####################\nmax_connections=3000\nmax_user_connections=2000\nmax_connect_errors=1000000\n#myisam_recover\nmax_allowed_packet = 128M\ntable_open_cache = 6144\ntable_definition_cache = 6144\ntable_open_cache_instances = 64\n\nread_buffer_size = 1M\njoin_buffer_size = 4M\nread_rnd_buffer_size = 1M\n\n#myisam\nsort_buffer_size = 128K\nmyisam_max_sort_file_size = 10G\nmyisam_repair_threads = 1\nkey_buffer_size = 64M\nmyisam_sort_buffer_size = 32M\ntmp_table_size = 64M\nmax_heap_table_size = 64M\nquery_cache_type=0\nquery_cache_size = 0\nbulk_insert_buffer_size = 32M\nthread_cache_size = 64\n#thread_concurrency = 32\nthread_stack = 192K\n\n###############InnoDB###########################\ninnodb_data_home_dir = %v/data\ninnodb_log_group_home_dir = %v/logs\ninnodb_data_file_path = ibdata1:1000M:autoextend\ninnodb_temp_data_file_path = ibtmp1:12M:autoextend\ninnodb_buffer_pool_size = %v\ninnodb_buffer_pool_instances    = 8\ninnodb_log_file_size = 120M\ninnodb_log_buffer_size = 16M\ninnodb_log_files_in_group = 3\ninnodb_flush_log_at_trx_commit = 2\nsync_binlog = 1\ninnodb_lock_wait_timeout = 10\ninnodb_sync_spin_loops = 40\ninnodb_max_dirty_pages_pct = 80\ninnodb_support_xa = 1\ninnodb_thread_concurrency = 0\ninnodb_thread_sleep_delay = 500\ninnodb_concurrency_tickets = 1000\ninnodb_flush_method = O_DIRECT\ninnodb_file_per_table = 1\ninnodb_read_io_threads = 16\ninnodb_write_io_threads = 16\ninnodb_io_capacity = 1000\ninnodb_flush_neighbors = 1\ninnodb_purge_threads=2\ninnodb_purge_batch_size = 32\ninnodb_old_blocks_pct=75\ninnodb_change_buffering=all\ninnodb_stats_on_metadata=OFF\ninnodb_print_all_deadlocks = 1\nperformance_schema=1\ntransaction_isolation = READ-COMMITTED\n#innodb_force_recovery=0\n#innodb_fast_shutdown=1\n#innodb_status_output=1\n#innodb_status_output_locks=1\n#innodb_status_file = 1\nsql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION\n\n[mysqldump]\nquick\nmax_allowed_packet = 128M\n\n[mysql]\nno-auto-rehash\nmax_allowed_packet = 128M\nprompt                         = '\\u@\\h:\\p [\\d]> '\ndefault_character_set          = utf8\n\n[myisamchk]\nkey_buffer_size = 64M\nsort_buffer_size = 512k\nread_buffer = 2M\nwrite_buffer = 2M\n\n[mysqlhotcopy]\ninteractive-timeout\n\n[mysqld_safe]\n#malloc-lib= /usr/lib/libjemalloc.so",
		port,port,baseDir,dataDir,dataDir,dataDir,dataDir,lowerCaseTableNames,serverId,dataDir,dataDir,dataDir,dataDir,dataDir,readOnly,dataDir,dataDir,dataDir,dataDir)

}
